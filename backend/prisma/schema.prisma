// generador del cliente
generator client {
  provider = "prisma-client-js"
}

// conexión a la base de datos
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// modelos
model Profile {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  avatar    String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Contaco (para el CV PDF) ---
  phone    String? // Ej: "+34 600 000 000"
  city     String? // Ej: "Madrid"
  country  String? // Ej: "España"
  linkedin String? // URL completa
  website  String? // URL completa

  // Español
  title   String
  summary String?
  bio     String?

  // Inglés
  title_en   String
  summary_en String?
  bio_en     String?
}

model Project {
  id        Int      @id @default(autoincrement())
  slug      String   @unique
  techStack String[]
  repoUrl   String?
  demoUrl   String?
  image     String?

  // Visibilidad Web
  isVisible Boolean @default(false)

  // Flag para PDF
  isVisibleInPdf Boolean @default(true) // ¿Mostrar en el PDF?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Español
  title       String?
  description String?

  // Inglés
  title_en       String?
  description_en String?
}

model Experience {
  id        Int       @id @default(autoincrement())
  company   String
  startDate DateTime
  endDate   DateTime?

  // Visibilidad Web
  isVisible Boolean @default(true)

  // Flags para PDF
  isVisibleInPdf       Boolean @default(true) // ¿Sale el puesto en el PDF?
  showDescriptionInPdf Boolean @default(true) // ¿Sale el texto descriptivo en el PDF?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Español
  position    String?
  description String?

  // Inglés
  position_en    String?
  description_en String?
}

model Education {
  id        Int       @id @default(autoincrement())
  school    String
  startDate DateTime
  endDate   DateTime?

  // Visibilidad Web
  isVisible Boolean @default(true)

  // Flags para PDF
  isVisibleInPdf       Boolean @default(true) // ¿Sale en el PDF?
  showDescriptionInPdf Boolean @default(true) // ¿Sale la descripción en el PDF?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Español
  description String?
  degree      String?

  // Inglés
  description_en String?
  degree_en      String?
}

// Skills
model Skill {
  id          Int     @id @default(autoincrement())
  name        String // Ej: "React"
  category    String? // Ej: "Herramientas"
  category_en String? // (Ej: "Tools")
  isVisible   Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// Idiomas
model Language {
  id Int @id @default(autoincrement())

  // Nombre
  name    String // Ej: "Español"
  name_en String? // Ej: "Spanish"

  // Nivel
  level    String // Ej: "Nativo", "B2"
  level_en String? // Ej: "Native", "B2"

  isVisible Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
